{"version":3,"sources":["pages/Auth/Confirmation.js"],"names":["Confirmations","props","React","useState","error","setError","datas","setDatas","onSubmitConfirmation","data","console","log","axios","post","confirmationCode","code","then","status","sessionStorage","setItem","token","history","push","window","location","reload","catch","useEffect","search","dataBrut","substring","lenght","split","map","e","key","value","className"],"mappings":"uLAoDeA,UA5Cf,SAAuBC,GACrB,MAA0BC,IAAMC,SAAS,IAAzC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA0BH,IAAMC,WAAhC,mBAAOG,EAAP,KAAcC,EAAd,KAEMC,EAAuB,SAACC,GAC5BC,QAAQC,IAAIF,GAEZG,IAAMC,KAAK,6BAA8B,CAAEC,iBAAkBL,EAAKM,OAC/DC,MAAK,YAAe,IAAZP,EAAW,EAAXA,KACa,YAAhBA,EAAKQ,SACPP,QAAQC,IAAIF,GACZS,eAAeC,QAAQ,QAASV,EAAKW,OACrCnB,EAAMoB,QAAQC,KAAK,WACnBC,OAAOC,SAASC,QAAO,OAG1BC,OAAM,SAACtB,GACNM,QAAQC,IAAI,CAAEP,cAkBpB,OAbAF,IAAMyB,WAAU,WAAO,IAAD,IACdC,EAAS3B,EAAMuB,SAASI,OAC1BC,EAAW,GACT,OAAND,QAAM,IAANA,GAAA,UAAAA,EAAQE,UAAU,EAAGF,EAAOG,eAA5B,mBAAqCC,MAAM,YAA3C,SAAiDC,KAAI,SAAAC,GACnD,MAAqBA,EAAEF,MAAM,KAA7B,mBAAOG,EAAP,KAAYC,EAAZ,KACAP,EAASM,GAAOC,KAElB7B,EAASsB,GACLA,EAASd,MACXP,EAAqB,CAAEO,KAAKc,EAASd,SAEtC,CAACd,EAAMuB,SAASI,SAGjB,qBAAKS,UAAU,eAAf,SACE,cAAC,IAAD,CACQjC,QAAOC,WAAUG,uBAAsBF,c","file":"static/js/10.6098e7dc.chunk.js","sourcesContent":["import React from 'react';\nimport {\n  Confirmation,\n} from '../../components'\nimport './statics/css/Login.css';\nimport axios from 'axios';\nimport './statics/css/Confirmation.scss';\n\nfunction Confirmations(props){\n  const [error, setError] = React.useState([]);\n  const [datas, setDatas] = React.useState();\n\n  const onSubmitConfirmation = (data) => {\n    console.log(data)\n\n    axios.post('/api/user/verificationUser', { confirmationCode: data.code })\n      .then(({ data }) => {\n        if (data.status === 'success') { \n          console.log(data);\n          sessionStorage.setItem('token', data.token);\n          props.history.push('/Lecons');\n          window.location.reload(false);\n        }\n      })\n      .catch((error) => {\n        console.log({ error })\n      })\n\n  }\n\n  React.useEffect(() => {\n    const search = props.location.search;\n    let dataBrut = {}\n    search?.substring(1, search.lenght)?.split('&')?.map(e => {\n      const [key, value] = e.split('=');\n      dataBrut[key] = value \n    })\n    setDatas(dataBrut);\n    if (dataBrut.code) {\n      onSubmitConfirmation({ code:dataBrut.code })\n    }\n  }, [props.location.search])\n\n  return(\n    <div className=\"Confirmation\">\n      <Confirmation \n        {...{ error, setError, onSubmitConfirmation, datas }}\n      />\n    </div>\n    )\n}\n\nexport default Confirmations;\n"],"sourceRoot":""}